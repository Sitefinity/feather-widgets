{"version":3,"sources":["comments-count.js"],"names":["$","CommentsCountWidget","rootUrl","length","charAt","this","Initialization","find","val","initialize","prototype","getIsReviewThreadKey","threadKey","useReviewSuffix","indexOf","makeAjax","url","type","ajax","contentType","cache","accepts","text","processData","collectThreadIds","commmentsCounterControls","uniqueKeys","i","attr","threadKeys","each","key","push","getCommentsCounts","commentsThreadKeys","getCommentsCountsUrl","encodeURIComponent","then","response","Items","getReviewsCounts","reviewsThreadKeys","getReviewsCountsUrl","getCommentsAndReviewsCounts","self","allCounts","commentsCountsResponse","concat","reviewsCountsResponse","getAllCounts","filter","cb","setCommentsCounts","threadCountList","Count","Key","populateCommentsCountTextCallBack","AverageRating","currentCount","currentRating","index","element","populateCommentsCountText","resources","JSON","parse","currentCountFormatted","comment","toLowerCase","commentsPlural","leaveComment","renderAverageRating","averageRatingResource","wrapper","show","oldRatingEl","oldRating","trim","srOnlyEl","parseFloat","Math","round","ratingSettings","mvcRating","readOnly","value","template","ofResourceLabel","toLocaleLowerCase","settings","maxValue","document","on","event","args","count","rating","window","personalizationManager","addPersonalizedContentLoaded","jQuery"],"mappings":"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","file":"comments-count.test.min.js"}