!function(v){angular.module("sharedContentServices",["pageEditorServices","serverDataModule"]).factory("sharedContentService",["$http","$q","propertyService","widgetContext","serverData",function(u,c,a,l,s){function d(){var e={};return l.culture&&(e.SF_UI_CULTURE=l.culture),{cache:!1,headers:e}}function f(){return sitefinity.services.getContentItemServiceUrl()}return{getItems:function(e,t,r,n){s.refresh();var i=f()+"?itemType=Telerik.Sitefinity.GenericContent.Model.Content&itemSurrogateType=Telerik.Sitefinity.GenericContent.Model.Content&filter=Visible==true AND Status==Live",a=l.culture;a&&(i+=" AND Culture == "+a),n&&(i+=' AND (Title.ToUpper().Contains("'+n+'".ToUpper()))'),t&&(i+="&skip="+t),r&&(i+="&take="+r),e&&(i+="&allProviders=false&provider="+e);var o=c.defer();return u.get(i,d()).then(function(e){o.resolve(e.data)},function(e){o.reject(e)}),o.promise},get:function(e,t,r){s.refresh();var n=f()+e+"/?published=true&checkOut="+r;t&&(n+="&provider="+t);var i=c.defer();return u.get(n,d()).then(function(e){i.resolve(e.data)},function(e){i.reject(e)}),i.promise},update:function(e,t,r){s.refresh();var n=e.Item,i=f()+n.Id+"/?draftPageId="+l.pageId;r&&(i+="&provider="+r),n.Content.Value=t,n.Content.PersistedValue=t,e.Item=n;var a=c.defer();return u.put(i,e,d()).then(function(e){a.resolve(e.data)},function(e){a.reject(e)}),a.promise},share:function(n){var i;s.refresh();return a.get().then(function(e){var t=(i=a.toAssociativeArray(e.Items)).Content.PropertyValue,r=i.ProviderName.PropertyValue;return function(e,t,r){var n=c.defer(),i=v.parseJSON(s.get("blankContentItem")||null),a=f()+i.Id+"/";r&&(a+="?provider="+r),i.PublicationDate&&(blankItemPublicationDate=new Date),i.Title={Value:e,PersistedValue:e},i.Content={Value:t,PersistedValue:t},i.DateCreated="/Date("+new Date(i.DateCreated).getTime()+")/",i.PublicationDate="/Date("+new Date(i.PublicationDate).getTime()+")/";var o={Item:i,ItemType:"Telerik.Sitefinity.GenericContent.Model.ContentItem"};return u.put(a,o,d()).then(function(e){n.resolve(e.data)},function(e){n.reject(e)}),n.promise}(n,t,r)}).then(function(e){i.SharedContentID.PropertyValue=e.Item.Id;var t=[i.SharedContentID],r=l.culture?1:0;return a.save(r,t)})},deleteTemp:function(e){s.refresh();var t=f()+"temp/"+e+"/",r=c.defer();return u.delete(t,d()).then(function(e){r.resolve(e.data)},function(e){r.reject(e)}),r.promise}}}])}(jQuery);
//# sourceMappingURL=shared-content-services.test.min.js.map