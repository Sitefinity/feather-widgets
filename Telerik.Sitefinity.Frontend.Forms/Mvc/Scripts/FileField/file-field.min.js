!function(r){function a(e){var i=e.find('[data-sf-role="remove-input"]');i.toggle(1<i.length)}function f(e,i,n){var t=r(e);t.appendTo(i),t.on("change",function(e){"function"==typeof r.fn.processFormRules&&r(e.target).processFormRules()}),n.AllowMultipleFiles&&(a(i),t.find('[data-sf-role="remove-input"]').click(function(){t.remove(),a(i),"function"==typeof r.fn.processFormRules&&r(i).processFormRules()}))}function l(e){var i=!e.data.config.IsRequired||function(e){for(var i=r('[data-sf-role="required-violation-message"]'),n=e.find('input[type="file"]'),t=null,a=0;a<n.length;a++){if(n[a].value)return i.hide(),!0;t=t||n[a]}return i.show(),t.focus(),!1}(e.data.container),n=0===e.data.config.AcceptedFileTypes.length||function(e,i){for(var n=!1,t=e.find('input[type="file"]'),a=0;a<t.length;a++){var o=r(t[a]).closest('[data-sf-role="single-file-input"]').find('[data-sf-role="filetype-violation-message"]');if(t[a].value){var f=t[a].value.lastIndexOf(".");if(0<=f){var l=t[a].value.substring(f).toLowerCase();if(i.indexOf(l)<0){o.show(),n=!0,t[a].focus();continue}}}o.hide()}return!n}(e.data.container,e.data.config.AcceptedFileTypes),t=!(e.data.config.MinFileSizeInMb||e.data.config.MaxFileSizeInMb)||function(e,i,n){if(void 0===window.File||void 0===window.FileList)return!0;for(var t=!1,a=e.find('input[type="file"]'),o=0;o<a.length;o++){var f=r(a[o]).closest('[data-sf-role="single-file-input"]').find('[data-sf-role="filesize-violation-message"]');if(0<a[o].files.length){var l=a[o].files[0];if(0<i&&l.size<i||0<n&&l.size>n){f.show(),t=!0,a[o].focus();continue}}f.hide()}return!t}(e.data.container,1024*e.data.config.MinFileSizeInMb*1024,1024*e.data.config.MaxFileSizeInMb*1024);return i&&n&&t}function n(e){var i=r(e),n=JSON.parse(function(e){var i=document.createElement("a");return i.innerHTML=e,i.textContent}(i.attr("data-sf-config"))),t=i.find('[data-sf-role="file-field-inputs"]'),a=i.find('[data-sf-role="file-input-template"]').html(),o=i.closest("form");f(a,t,n),n.AllowMultipleFiles&&r(i).find('[data-sf-role="add-input"]').click(function(){f(a,t,n)}),i.find('input[type="file"]').data("sfvalidator",function(){return l({data:{config:n,container:t}})}),o.submit({config:n,container:t},l)}r(function(){var e=r('[data-sf-role="file-field-container"]');if(e&&!(e.length<1))for(var i=0;i<e.length;i++)n(e[i])})}(jQuery);
//# sourceMappingURL=file-field.min.js.map