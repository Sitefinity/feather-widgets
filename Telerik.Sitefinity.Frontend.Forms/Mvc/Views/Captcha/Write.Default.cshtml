@model Telerik.Sitefinity.Frontend.Forms.Mvc.Models.Fields.Captcha.CaptchaViewModel

@using Telerik.Sitefinity.Frontend.Mvc.Helpers;
@using Telerik.Sitefinity.Modules.Pages;
@using Telerik.Sitefinity.Services;

@Html.Script(ScriptRef.JQuery, "top", false)

<div data-sf-role="field-captcha-container" style="display:none;" class="@Model.CssClass">
    <div>
        <img data-sf-role="captcha-image" src='@Url.WidgetContent("assets/dist/img/dummy.jpg")'/>
    </div>

    <a data-sf-role="captcha-refresh-button">@Html.Resource("NewCode")</a>

    <div>
        <label>@Html.Resource("TypeCodeAbove")
            <input type="text" data-sf-role="captcha-input" name="@Model.CaptchaAnswerFormKey"/>
        </label>
    </div>
    <input type="hidden" data-sf-role="captcha-ca" name="@Model.CaptchaCorrectAnswerFormKey" />
    <input type="hidden" data-sf-role="captcha-iv" name="@Model.CaptchaInitializationVectorFormKey" />
    <input type="hidden" data-sf-role="captcha-k" name="@Model.CaptchaKeyFormKey" />

    <input type="hidden" data-sf-role="captcha-settings" value="@Model.GenerateUrl" />
</div>

@if (SystemManager.IsDesignMode)
{
    <script type="text/javascript" src='@(Url.WidgetContent("Mvc/Scripts/Captcha/captcha.js") + "?t=" + DateTime.UtcNow.Ticks.ToString())'></script>
}
else
{
    @Html.Script(Url.WidgetContent("Mvc/Scripts/Captcha/captcha.js"), "bottom", false)
}