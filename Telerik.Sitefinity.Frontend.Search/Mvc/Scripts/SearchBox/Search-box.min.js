!function(a){function e(){for(var e=a('[data-sf-role="searchTextBoxId"]'),t=0;t<e.length;t++){var s=a(e[t]);n({resultsUrl:s.siblings('[data-sf-role="resultsUrl"]').first().val(),indexCatalogue:s.siblings('[data-sf-role="indexCatalogue"]').first().val(),disableSuggestions:a.parseJSON(s.siblings('[data-sf-role="disableSuggestions"]').first().val()),minSuggestionLength:s.siblings('[data-sf-role="minSuggestionLength"]').first().val(),suggestionFields:s.siblings('[data-sf-role="suggestionFields"]').first().val(),language:s.siblings('[data-sf-role="language"]').first().val(),siteId:s.siblings('[data-sf-role="siteId"]').first().val(),suggestionsRoute:s.siblings('[data-sf-role="suggestionsRoute"]').first().val(),searchTextBoxSelector:s.val(),searchButtonSelector:s.siblings('[data-sf-role="searchButtonId"]').first().val(),scoringSettingsSelector:s.siblings('[data-sf-role="scoringSettings"]').first().val(),resultsForAllSites:s.siblings('[data-sf-role="searchInAllSitesInTheIndex"]').first().val()})}function n(i){var o=a(i.searchTextBoxSelector);if(a(i.searchButtonSelector).click(s),o.keypress(function(e){e=e||window.event;var t=null;t=e.keyCode?e.keyCode:e.charCode;13==t&&s(e)}),!i.disableSuggestions){o.keyup(function(e){if(38!=e.keyCode&&40!=e.keyCode&&27!=e.keyCode){var t={},s=o.val().trim();s.length>=i.minSuggestionLength&&(t.IndexName=i.indexCatalogue,t.SuggestionFields=i.suggestionFields,t.Text=s,t.Language=i.language,t.SiteId=i.siteId,i.resultsForAllSites&&(t.ResultsForAllSites=i.resultsForAllSites),i.scoringSettingsSelector&&(t.ScoringInfo=i.scoringSettingsSelector),a.ajax({type:"GET",url:i.suggestionsRoute,dataType:"json",data:t,success:n}))}});try{o.autocomplete({source:[],messages:{noResults:"",results:function(){}},select:function(e,t){o.val(t.item.value),s(e)}}).autocomplete("widget").addClass("sf-autocomplete")}catch(e){}}function n(e,t){var s=e.Suggestions;o.autocomplete("option","source",s),o.autocomplete("search",o.val().trim())}function s(e){(e=e||window.event).stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault?e.preventDefault():e.returnValue=!1;var t=o.val();t&&t.trim()&&i.indexCatalogue&&(window.DataIntelligenceSubmitScript&&DataIntelligenceSubmitScript._client.fetchClient.sendInteraction({P:"Search for",O:o.val(),OM:{PageUrl:location.href}}),window.location=function(){var e=o.val().trim(),t=(-1==i.resultsUrl.indexOf("?")?"?":"&")+"indexCatalogue="+encodeURIComponent(i.indexCatalogue),s="&searchQuery="+encodeURIComponent(e),n=i.resultsUrl+t+s;i.scoringSettingsSelector&&(n=n+"&scoringInfo="+i.scoringSettingsSelector);i.resultsForAllSites&&(n=n+"&resultsForAllSites="+i.resultsForAllSites);return n}())}}}window.personalizationManager?window.personalizationManager.addPersonalizedContentLoaded(function(){e()}):document.addEventListener("DOMContentLoaded",function(){e()})}(jQuery);
//# sourceMappingURL=Search-box.min.js.map